# CSR & SSR

> **SSR**이란 단어 그대로 서버에서 렌더링 작업을 하는것을 의미한다. 기존에 존재하던 방식으로 사용자가 웹페이지에 접근할 때 서버에서 페이지에 대한 요청을 하며 서버에서는 html, view와 같은 리소스들을 어떻게 보여질지 해석하고 렌더링하여 사용자에게 반환한다. <br>
> **CSR**이란 최초에 1번 서버에서 전체 페이지를 로딩하여 보여주고 이후에는 사용자의 요청이 올 때마다, 리소스를 서버에서 제공한후 클라이언트가 해석하고 렌더링을 하는 방식이다.

<br>

### SSR(Server Side Rendering)

> 서버쪽에서 렌더링 준비를 끝마친 상태로 클라이언트에 전달하는 방식

![](https://velog.velcdn.com/images/seul06/post/2095e98d-2335-4e24-b853-2331b160d774/image.png)

#### 📌 SSR 단계

1. User가 Website 요청을 보낸다.

2. Server는 'Ready to Render'. 즉, 즉시 렌더링 가능한 html파일을 만든다. (리소스 체크, 컴파일 후 완성된 HTML 컨텐츠로 만든다.)

3. 클라이언트에 전달되는 순간, 이미 렌더링 준비가 되어있기 때문에 HTML은 즉시 렌더링 된다. 그러나 Javascript가 읽히기 전이므로 사이트 자체는 조작 불가능하다.

4. 클라이언트가 자바스크립트를 다운받는다.

5. 다운 받아지고 있는 사이에 유저는 컨텐츠는 볼 수 있지만 사이트를 조작 할 수는 없다. 이때의 사용자 조작을 기억하고 있는다.

6. 브라우저가 Javascript 프레임워크를 실행한다.

7. JS까지 성공적으로 컴파일 되었기 때문에 기억하고 있던 사용자 조작이 실행되고 이제 웹 페이지는 상호작용 가능해진다.

→ 서버에서 이미 '렌더 가능한' 상태로 클라이언트에 전달되기 때문에, JS가 다운로드 되는 동안 사용자는 무언가를 보고 있을 수 있다.

<br>

### CSR(Client Side Rendering)

> SSR과 달리 렌더링이 클라이언트 쪽에서 일어난다. 서버는 요청을 받으면 클라이언트에 HTML과 JS를 보내준다. 클라이언트는 그것을 받아 렌더링을 시작한다.

![](https://velog.velcdn.com/images/seul06/post/f46bd478-d893-47ee-a62f-5875f1a0fc39/image.png)

#### 📌 CSR 단계

1. User가 Website 요청을 보낸다.

2. CDN이 HTML 파일과 JS로 접근할 수 있는 링크를 클라이언트로 보낸다.

3. 클라이언트는 HTML과 JS를 다운로드 받는다. (이때 SSR과 달리 유저는 아무것도 볼 수 없다.)

4. 다운이 완료된 JS가 실행된다. 데이터를 위한 API가 호출된다. 이때 유저들은 placeholder를 보게된다.

5. 서버가 API로부터의 요청에 응답한다.

6. API로부터 받아온 data를 placeholder 자리에 넣어준다. 이후 페이지는 상호작용이 가능해진다.

✍️ CDN(콘텐츠 전송 네트워크)
: 데이터 사용량이 많은 애플리케이션의 웹 페이지 로드 속도를 높이는 상호 연결된 서버 네트워크이다. CDN은 콘텐츠 전송 네트워크 또는 콘텐츠 배포 네트워크를 의미할 수 있다. 사용자가 웹 사이트를 방문할 때 해당 웹 사이트 서버의 데이터는 사용자의 컴퓨터에 도달하기 위해 인터넷을 통해 이동해야 하는데 사용자가 해당 서버에서 멀리 떨어져 있는 경우 동영상 또는 웹 사이트 이미지와 같은 대용량 파일을 로드하는 데 시간이 오래 걸린다. 대신 웹 사이트 콘텐츠는 지리적으로 사용자와 가까운 CDN 서버에 저장되며 컴퓨터에 훨씬 빨리 도달한다.

✍️ Skeleton UI (Loading Placeholder)
: 스켈레톤 컴포넌트는 데이터를 가져오는 동안 콘텐츠를 표시하는 컴포넌트이다.
서버로부터 데이터를 불러오는 시간이 오래 걸리게 되면 사용자는 적지않게 지루함을 느끼게 되고, 사이트를 떠나게 될 것이다. 이러한 지루함을 없애고 사용자의 액션에 제한을 걸지 않는 방법으로 스켈레톤 UI를 적용해볼 수 있다. 😎

![](https://velog.velcdn.com/images/seul06/post/7997c245-b8c0-4216-b47f-31794adff6ae/image.png)
