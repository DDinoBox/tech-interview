# JWT(JSON Web Token)

쿠키 세션 방식의 단점을 보완하기 위한 방식이 토큰
- 로그인 중인 유저의 수가 늘어난다면 서버 메모리 과부화 등 악영향이 미침.
  - 로그인 마다 세션 ID 저장해야하기 때문.

- 서버는 무상태성(Stateless)를 유지하게 두기 위해, 정보 흐름을 이용한 방식 고안.
- 요청 -> 토큰생성 -> 이후 사용자가 토큰을 헤더(Authorization 키에 넣어 요청)
- 토큰 기반 인증의 대표적인 방식이 JWT

## JWT
헤더, 페이로드, 서명으로 이루어져 있으며 JSON 객체로 인코딩 됨. 메시지 인증, 암호화에 사용.

#### Header
- 어떠한 방법의 서명 알고리즘을 사용할 것인가에 대한 정보

#### Payload
- 데이터, 토큰 발급자, 토큰 유효기간(인증이 필요한 최소한의 정보만)

#### Signature
- 헤더에 정의 된 알고리즘으로 인코딩 된 헤더와 페이로드를 합친 값, 그리고 비밀키를 기반으로 생성 된 서명값

## JWT의 장점
- 사용자가 인증되면 사용자는 모든 시스템에서 사용할 수 있는 보안 토큰을 받음
  - 즉, 단일 엔드포인트를 생성해서 다른 모든 서버간의 API 상호작용을 인증할 수 있음
- 인증에 필요한 모든 정보는 토큰 자체에 포함되어 있기 떄문에 별도의 인증 저장소 필요 없음
  - 세션의 경우 계속 저장해야 함
- 확장성, 디버깅, 사이즈가 작음.
- JWT 자체가 독립적

## JWT의 단점
- 더 많은 필드가 추가되면 토큰이 비대해져 트래픽에 영향이 감
- 탈취하여 디코딩하면 데이터를 볼 수 있음