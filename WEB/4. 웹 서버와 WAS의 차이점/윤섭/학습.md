# 웹 서버와 WAS의 차이점

## 웹 서버(Web Server)
웹 서버란 HTTP 프로토콜을 기반으로 클라이언트가 웹 브라우저에서 어떠한 요청을 하면 그 요청을 받아 **정적 컨텐츠**를 제공하는 서버이다. 정적 컨텐츠란 단순 HTML 문서, CSS, 이미지, 파일 등 즉시 응답이 가능한 컨텐츠이다.

이 때 웹 서버가 정적 컨텐츠가 아닌 동적 컨텐츠를 요청받으면 WAS에 해당 요청을 넘겨주고, WAS에서 처리한 결과를 클라이언트에게 전달하는 역할도 해준다.

웹 서버에는 `Apache`, `NginX` 등이 있다.

## WAS(Web Application Server)
WAS란 DB 조회 혹은 다양한 로직 처리를 요구하는 **동적 컨텐츠**를 제공하기 위해 만들어진 Application 서버이다. HTTP 프로토콜을 기반으로 사용자의 컴퓨터나 장치에 애플리케이션을 수행해주는 미들웨어로서, 주로 데이터베이스 서버와 같이 수행된다.

WAS는 JSP, Servlet(서블릿)<sup>1</sup> 구동환경을 제공해주기 때문에 서블릿 컨테이너 또는 웹 컨테이너로 불린다.

WAS는 웹 서버의 기능들을 구조적으로 분리 및 처리하고자 하는 목적으로 제시되었다. 분산 트랜잭션, 보안, 메시징, 쓰레드 처리 등의 기능을 처리하는 분산 환경에서 사용된다. WAS는 프로그램 실행 환경과 DB 접속 기능을 제공하고, 여러개의 트랜잭션을 관리 가능하게 한다.

WAS에는 `Tomcat`, `JBoss`, `WebSphere` 등이 있다.

<h6 style="font-weight: 400">Servlet(서블릿)<sup>1</sup> : Servlet(서블릿)이란 Dynamic Web Page를 만들 때 사용되는 자바 기반의 웹 애플리케이션 프로그래밍 기술이다. 웹을 만들 때는 다양한 요청(Request)과 응답(Response)가 있기 마련이고 이 요청과 응답에는 규칙이 존재한다. 이러한 요청과 응답을 일일이 처리하려면 굉장히 힘들기 때문에 서블릿을 이용하여 웹 요청과 응답의 흐름을 간단한 메서드 호출만으로 체계적으로 다룰 수 있게 해준다.</h6>

## 웹 서버와 WAS의 차이
### 웹 서버가 필요한 이유
웹 서버에서는 정적 컨텐츠만 처리하도록 기능 분배를 해서 서버의 부담을 줄인다.

### WAS가 필요한 이유
요청에 맞는 데이터를 DB에서 가져와 비즈니스 로직에 맞게 그 때마다 결과를 만들고 제공하면서 자원을 효율적응로 사용할 수 있게 한다.

### 웹 서버와 WAS의 차이
WAS는 Web Server와 Web Container의 역할을 모두 할 수 있다. 여기서 컨테이너는 JSP, Servlet을 실행시킬 수 있는 소프트웨어를 말한다. 현재 WAS의 웹 서버도 정적인 컨텐츠를 처리하는 데 성능상 큰 차이가 없다.
 
그렇다면 WAS가 웹 서버의 기능까지 모두 수행하면 되는 것일까? 
 
웹 서버와 WAS를 분리해야 한다. 그 이유는 다음과 같다.
 
1. 서버 부하 방지
WAS와 웹 서버는 분리하여 서버의 부하를 방지해야 한다. WAS는 DB 조회나 다양한 로직을 처리하고, 단순한 정적 컨텐츠는 웹 서버에서 처리해줘야 한다. 만약 정적 컨텐츠까지 WAS가 처리한다면 부하가 커지게 되고, 수행 속도가 느려질 것이다. 
 
2. 보안 강화
SSL에 대한 암호화, 복호화 처리에 웹 서버를 사용 가능
 
3. 여러 대의 WAS 연결 가능
로드 밸런싱을 위해 웹 서버를 사용할 수 있다. 여러 개의 서버를 사용하는 대용량 웹 어플리케이션의 경우 웹 서버와 WAS를 분리하여 무중단 운영을 위한 장애 극복에 쉽게 대응할 수 있다. 
 
4. 여러 웹 어플리케이션 서비스 가능
하나의 서버에서 PHP, JAVA 애플리케이션을 함께 사용할 수 있다. 
 
이러한 이유로 웹 서버를 WAS 앞에 두고 필요한 WAS들을 웹 서버에 플러그인 형태로 설정하면 효율적인 분산 처리가 가능하다.