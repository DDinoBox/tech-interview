# 정규화와 비정규화를 설명
정규화 데이터베이스(normalized database)는
중복을 최소화하도록 설계된 데이터베이스를 말한다.

비정규화 데이터베이스(denormalized database)는
읽는 시간을 최적화하도록 설계된 데이터베이스를 말한다.

## 정규화란?
정규화(Normalized)란 무엇인가?
관계형 데이터베이스에서 중복을 최소화하기 위해 데이터를 구조화하는 작업이다. 
한 릴레이션에 정보가 중복 저장되게 된다면, 저장 공간을 낭비하게 되고, 중복된 정보로 인해 '갱신 이상'이 발생하게 된다. 
동일한 정보를 한 릴레이션에는 변경하고, 나머지 릴레이션에서는 변경하지 않은 경우 어느 것이 정확한지 알 수 없게 되는 것이다.

이러한 문제를 해결하기 위해 정규화 과정을 거친다. 
정규화 과정을 거치게 되면 정규형을 만족하게 된다.

>정규형 <br>
특정 조건을 만족하는 릴레이션의 스키마의 형태 <br>
제1 정규형, 제2 정규형, 제3 정규형, BCNF형, 제4 정규형, 제5 정규형이 존재한다. <br>
차수가 높아질수록 만족시켜야 할 제약 조건이 늘어난다.

```장점```
 - 데이터베이스 변경 시 이상 현상(Anomaly) 제거
 - 저장 공간의 최소화 가능
 - 효과적인 검색 알고리즘 생성 가능
 - 데이터 삽입 시 릴레이션 재구성의 필요성 감소
 - 데이터 구조의 안정성 및 무결성 유지
 
```단점```
 - 릴레이션 간의 JOIN 연산 증가 → 이로 인한 질의에 대한 응답 시간 저하

## 정규화의 원칙
정보의 무손실 표현 → 하나의 스키마를 다른 스키마로 변환할 때 정보의 손실이 있어서는 안 된다. <br>
분리의 원칙 → 하나의 독립된 관계성은 하나의 독립된 릴레이션으로 분리시켜 표현해야 한다. <br>
데이터의 중복성이 감소되어야 한다.

## 정규화의 과정
정규화는 1 정규화 ~ 6 정규화 까지 여러 과정이 존재하지만, 실제로 보통 1 ~ 3 정규화까지의 과정을 거치게 된다고 합니다.

[ 제1 정규화 ]
제1 정규화란 테이블의 칼럼이 원자 값(Atomic Value, 하나의 값)을 갖도록 테이블을 분해하는 것입니다.

[ 제2 정규화 ]
제2 정규화란 제1 정규화를 진행한 테이블에 대해 완전 함수 종속을 만족하도록 테이블을 분해하는 것입니다.
여기서 완전 함수 종속이라는 것은 기본키의 부분집합이 결정자가 되어선 안된다는 것을 의미합니다.

[ 제3 정규화 ]
제3 정규화란 제2 정규화를 진행한 테이블에 대해 이행적 함수 종속을 없애도록 테이블을 분해하는 것입니다.
여기서 이행적 함수 종속은 A → B , B → C가 성립할 때 A → C가 성립되는 것을 의미합니다.

[ BCNF 정규화 ] 
BCNF 정규화란 제3 정규화를 진행한 테이블에 대해 모든 결정자가 후보키가 되도록 테이블을 분해하는 것입니다.

## 비정규화(Denormalization, 반정규화)란?
하나 이상의 테이블에 데이터를 중복해 배치하는 최적화 기법이다.
시스템의 성능 향상, 개발 및 운영의 편의성 등을 위해 정규화된 데이터 모델을 통합, 중복, 분리하는 과정으로, 의도적으로 정규화 원칙을 위배하는 행위이다.
하지만 이 방법의 단점은 테이블이 아주 클 경우 조인을 하느라 불필요할 정도로 많은 시간을 낭비하게 된다는 것이다.

```장점```
 - 빠른 데이터 조회 → 조인 비용이 줄어들기 때문
 - 살펴볼 테이블이 줄어들기 때문에 데이터 조회 쿼리가 간단해짐 → 따라서 버그 발생 가능성도 줄어든다

```단점```
 - 입력, 수정, 삭제의 질의문에 대한 응답 시간이 늦어질 수 있다.
 - 데이터의 무결성이 깨질 수 있다
 - 데이터를 중복하여 저장하므로 더 많은 저장 공간이 필요

## 비정규화 대상
 - 자주 사용되는 테이블에 액세스하는 프로세스의 수가 가장 많고, 항상 일정한 범위만을 조회하는 경우
 - 테이블에 대량 데이터가 있고 대량의 범위를 자주 처리하는 경우, 성능 상 이슈가 있을 경우
 - 테이블에 지나치게 조인을 많이 사용하게 되어 데이터를 조회하는 것이 기술적으로 어려울 경우
 - 대부분의 대규모 IT 업체의 경우처럼, 규모 확장성(scalability)을 요구하는 시스템의 경우 거의 항상 정규화된 데이터베이스와 비정규화된 데이터베이스를 섞어 사용한다.

> 참고사이트 : 
> - https://dev-coco.tistory.com/62
> - https://owlyr.tistory.com/20