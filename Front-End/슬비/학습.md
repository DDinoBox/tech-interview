# 📌 JavaScript

## 1-1. var, let, const 의 차이점

> 변수를 선언할 때 사용할 수 있는 키워드로는 **var, let, const**가 있다. **var** 키워드의 문제점은 중복선언을 허용하고 변수 호이스팅이 발생하며, 함수 레벨 스코프로 인해 함수 외부에서 선언한 변수는 모두 전역 변수로 된다는 것이다. 따라서, 이를 보완하기 위해 나온 ES6 문법인 **let** 혹은 **const**를 사용하는 것이 좋다.

### 변수란?

**변수**는 값의 위치(주소)를 기억하는 저장소이다. 값의 위치란 값이 위치하고 있는 메모리 상의 주소를 의미한다. 즉, 변수란 값이 위치하고 있는 메모리 주소에 접근하기 위해 사람이 이해할 수 있는 언어로 명명한 식별자(identifier)이다.

변수의 선언은 `var`, `const`, `let` 키워드로 할 수 있으며, ES6에서 `const`와 `let`이 추가되었다.

![](https://velog.velcdn.com/images/seul06/post/cc01d158-97e1-43bf-9d71-76e379514981/image.png)

<br>

### var 키워드의 문제점

1. 함수 레벨 스코프(Function-level scope)
   전역 변수의 남발
   for loop 초기화식에서 사용한 변수를 for loop 외부 또는 전역에서 참조할 수 있다.

2. var 키워드 생략 허용
   의도하지 않은 변수의 전역화

3. 중복 선언 허용
   의도하지 않은 변수값 변경

4. 변수 호이스팅
   변수를 선언하기 전에 참조가 가능하다.

<br>

### 자바스크립트 스코프의 특징

#### 📌 자바스크립트는 함수 레벨 스코프(function-level scope)를 따른다.

함수 레벨 스코프란 함수 코드 블록 내에서 선언된 변수는 함수 코드 블록 내에서만 유효하고 함수 외부에서는 유효하지 않다(참조할 수 없다)는 것이다.

**단, ECMAScript 6에서 도입된 let keyword를 사용하면 블록 레벨 스코프를 사용할 수 있다.**

<br>

### let과 const

이 둘의 차이점은 'immutable' 여부이다.
**let 은 변수에 재할당이 가능하지만, const는 변수 재선언, 변수 재할당 모두 불가능하다.**

❗️ 이와 같기 때문에 기존의 `var` 대신 ES6에 추가된 `let` 혹은 `const` 를 사용하는 것이 좋다.
즉, 기본적으로는 의도치 않은 재할당을 방지해 줄 수 있는 `const` 를 사용하고, 재할당이 필요한 경우에 한정해 `let` 을 사용하는 것이 좋다.
![](https://velog.velcdn.com/images/seul06/post/3f972f70-4c38-4548-9b9c-982ea27df4fd/image.png)

<br><br>

## 1-2. Event Loop

> 자바스크립트의 큰 특징 중 하나는 '**단일 스레드**' 기반의 언어라는 점이다. 스레드가 하나라면 동시에 하나의 작업만을 처리할 수 있다는 의미이지만, 실제 자바스크립트 환경을 생각해보면 **많은 작업이 동시에** 처리되고 있는 것을 볼 수 있다. 이때 **자바스크립트는 이벤트루프를 이용해서 비동기 방식으로 동시성을 지원**할 수 있다.

### 자바스크립트 런타임 환경

#### 📌 Javascript는 single threaded language이다.

- 언어자체에는 멀티쓰레딩이 없다.
- 자바스크립트가 동작하고 있는 브라우저라는 프로그램 안에서는 여러가지 쓰레드가 들어있다.
  → 브라우저. 즉 웹APIs 들을 이용시 멀티쓰레딩이 가능하다.
- 자바스크립트가 동작하고 있는 실행환경(런타임, Javascript Runtime Environment) 에서는 다양한 방식을 이용, 멀티쓰레딩 같은 효과를 얻을 수 있다.
- 자바스크립트가 실행되는 실행 환경 위에서는 멀티쓰레딩 뿐만 아니라 **이벤트 루프**를 이용, 다양한 동작 실행 가능하다.

✍️ 자바스크립트가 '단일 스레드' 기반의 언어라는 말은 '자바스크립트 엔진이 단일 호출 스택을 사용한다'는 관점에서만 사실이다. 실제 자바스크립트가 구동되는 환경(브라우저, Node.js등)에서는 주로 여러 개의 스레드가 사용되며, 이러한 구동 환경이 단일 호출 스택을 사용하는 자바스크립트 엔진과 상호 연동하기 위해 사용하는 장치가 바로 '이벤트 루프'인 것이다.
