# Promise & async & await 에 대해

## 2-2. Promise, async, await

### Promise

> **Promise는 자바스크립트 안에 내장되어 있는 오브젝트이며, 비동기를 간편하게 처리할 수 있도록 도와주는 오브젝트**이다. 네트워크통신이나 파일을 읽어 오는 것 등 어떤 무거운 일을 처리할 때 사용 될 수 있다.
> → 네트워크에서 데이터를 받아오거나 파일에서 큰 데이터를 읽어오는 과정은 다소 시간이 소요된다. 이를 만약 동기적으로 수행한다면 다음 라인의 코드가 실행되지 않기 때문에, 프로미스를 통해 비동기적으로 처리하는 것이 좋다.

- 정해진 장시간의 기능을 수행한 뒤, 정상적으로 기능이 수행되었다면 성공메세지와 함께 처리된 결과값을 전달하고, 기능을 수행하다가 문제가 발생한다면 에러를 전달해준다.

- state : 프로세스가 작업을 수행하고 있는 중인지, 혹은 기능 수행을 완료(성공or실패) 했는지에 대한 상태
- promise의 3가지 상태 : `pending`, `fulfilled`, `rejected state`

<br>

### promise 과정알기

`promise` 를 사용하면 그 즉시 `pending` 상태(대기, 진행중)이다.
그 결과가 성공하면 `.then()` 으로 전달된 함수를 호출(resolved 상태) 하고, 에러가 발생하면 `.catch()` 로 전달된 함수를 호출(rejected 상태) 한다.
여기서 `.then()` 이거나 `.catch()` 이거나 새로운 `promise` 를 리턴하면 다시 `pending` 상태가 시작되어 다시 `.then()` 과 `.catch()` 를 사용한다.

> 📌 **[프로미스 정리](https://velog.io/@seul06/JavaScript-%ED%94%84%EB%A1%9C%EB%AF%B8%EC%8A%A4)**

<br>

### async, await

> 기존에 존재하는 promise 위에 조금 더 간편한 API를 제공하는 문법적 설탕(syntactic sugar)으로, 깔끔하게 프로미스를 사용할 수 있는 방법이다.

- function 앞에 `async` 를 붙이면 해당 함수는 항상 promise를 반환한다.
- `async` 가 붙은 함수는 반드시 프로미스를 반환하고, 프로미스가 아닌 것은 프로미스로 감싸 반환한다.
- `await` 는 `async` 함수 안에서만 동작한다. 일반 함수엔 `await` 을 사용할 수 없으며, 사용할 경우, 문법 에러가 발생한다.
- 자바스크립트는 `await` 키워드를 만나면 프로미스가 처리될 때까지 기다린다. 결과는 그 이후 반환된다.

✍️ function 앞에 async 키워드를 추가하면 두가지 효과가 있다.

1. 함수는 언제나 promise를 반환한다.
2. 함수 안에서 await을 사용할 수 있다.
