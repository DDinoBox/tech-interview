# 웹 통신의 큰 흐름

### IP 주소
컴퓨터 네트워크에서 장치들이 서로를 인식하고 통신을 하기 위해서 사용하는 특수한 번호</br>
→ 현재 사용하는 IPv4는 128.0.0.1과 같은 32비트 수로 구성되어 있다.

### Domain Name
IP 주소를 문자로 표현한 주소</br>
→ `DNS` : IP주소와 도메인 이름의 매핑 정보를 담는 데이터베이스

## 웹 통신 과정
1. 사용자가 웹 브라우저를 통해 **URL을 입력**한다.
2. 입력된 URL 중 **도메인 네임을 DNS 서버에서 검색**한다.
3. DNS 서버에서 해당 도메인 네임에 해당하는 **IP 주소를 찾아 사용자가 입력한 URL 정보와 함께 전달**한다.
4. 웹 페이지 URL 정보와 전달받은 IP 주소를 이용해 **HTTP 요청 메시지를 생성**한다.
5. 요청은 **TCP를 통해 서버로 전송**된다.
6. 서버는 클라이언트의 요청을 받고 **응답을 전송**한다.

## 브라우저의 주소창에 특정 URL을 입력하면 어떤 일이 일어나는가?

### 브라우저
- URL 에 입력된 값을 브라우저 내부에서 결정된 규칙에 따라 그 의미를 조사한다.
- 조사된 의미에 따라 HTTP Request 메시지를 만든다.
- 만들어진 메시지를 웹 서버로 전송한다.

### 프로토콜 스택, LAN 어댑터
- 프로토콜 스택(운영체제에 내장된 네트워크 제어용 소프트웨어)이 브라우저로부터 메시지를 받는다.
- 브라우저로부터 받은 메시지를 패킷 속에 저장한다. 
- 그리고 수신처 주소 등의 제어정보를 덧붙인다.
- 그런 다음, 패킷을 LAN 어댑터에 넘긴다.
- LAN 어댑터는 다음 Hop의 MAC주소를 붙인 프레임을 전기신호로 변환시킨다.
- 신호를 LAN 케이블에 송출시킨다.

### 허브, 스위치, 라우터
- LAN 어댑터가 송신한 프레임은 스위칭 허브를 경유하여 인터넷 접속용 라우터에 도착한다.
- 라우터는 패킷을 프로바이더(통신사)에게 전달한다.
- 인터넷으로 들어가게 된다.

### 액세스 회선, 프로바이더
- 패킷은 인터넷의 입구에 있는 액세스 회선(통신 회선)에 의해 POP(Point Of Presence, 통신사용 라우터)까지 운반된다.
- POP 를 거쳐 인터넷의 핵심부로 들어가게 된다.
- 수 많은 고속 라우터들 사이로 패킷이 목적지를 향해 흘러가게 된다.

### 방화벽, 캐시서버
- 패킷은 인터넷 핵심부를 통과하여 웹 서버측의 LAN 에 도착한다.
- 기다리고 있던 방화벽이 도착한 패킷을 검사한다.
- 패킷이 웹 서버까지 가야하는지 가지 않아도 되는지를 판단하는 캐시서버가 존재한다.
- 굳이 서버까지 가지 않아도 되는 경우를 골라낸다.
- 액세스한 페이지의 데이터가 캐시서버에 있으면 웹 서버에 의뢰하지 않고 바로 그 값을 읽을 수 있다.
- 페이지의 데이터 중에 다시 이용할 수 있는 것이 있으면 캐시 서버에 저장된다.

### 웹 서버
- 패킷이 물리적인 웹 서버에 도착하면 웹 서버의 프로토콜 스택은 패킷을 추출하여 메시지를 복원하고 웹 서버 애플리케이션에 넘긴다.
- 메시지를 받은 웹 서버 애플리케이션은 요청 메시지에 따른 데이터를 응답 메시지에 넣어 클라이언트로 회송한다.
- 왔던 방식대로 응답 메시지가 클라이언트에게 전달된다.