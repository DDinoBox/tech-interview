# HTTP 와 HTTPS 의 차이점

## 1. HTTP란?

HTTP(Hyper Text Transfer Protocol)란 서버/클라이언트 모델을 따라 데이터를 주고 받기 위한 프로토콜이다. 
> 프로토콜 이란 컴퓨터 내부 또는 컴퓨터 사이에서 데이터의 교환방식을 정의하는 규칙체계
> 기기간 통신은 교환되는 데이터의 형식에 대해 상호 합의를 요구하는데 이런 형식을 정의하는 규칙의 집합

즉, HTTP는 인터넷에서 하이퍼텍스트를 교환하기 위한 통신 규약으로, 80번 포트를 사용하고 있다. <br>
따라서 HTTP 서버가 80번 포트에서 요청을 기다리고 있으며, 클라이언트는 80번 포트로 요청을 보내게 된다.<br>
HTTP는 1989년 팀 버너스 리(Tim Berners Lee)에 의해 처음 설계되었으며, <br>
WWW(World-Wide-Web) 기반에서 세계적인 정보를 공유하는데 큰 역할을 하였다.

>클라이언트는 서버에 정보(데이터) 전송을 요청(Request)할 수 있는 
클라이언트 소프트웨어(크롬, IE, 사파리 등 웹 브라우저가 대표적이죠)가 설치된 컴퓨터(스마트폰 등을 포괄하는, 연산하는 기계의 개념)를 의미한다. 

클라이언트는 URL(Uniform Resource Locator)로 된 HTTP를 통해 서버에게 정보 송신을 요청한다. <br>
우리가 평소 쓰는 URL 구조를 구분해 살피면 각각은 아래와 같은 의미를 가진다.

URL의 예: http://www.google.com/product
1. http://: 자원에 접근하기 위한 http 프로토콜
2. www.google.com: 서버의 위치
3. product: 서버에서 컴퓨터가 요청한 자원의 위치

[ HTTP의 구조 ]
HTTP는 애플리케이션 레벨의 프로토콜로 TCP/IP 위에서 작동한다. <br>
HTTP는 상태를 가지고 있지 않는 Stateless 프로토콜이며 Method, Path, Version, Headers, Body 등으로 구성된다.

<img src="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbkdJ4Q%2FbtqK6AXLEtC%2FjBZzMuJBWzdLYmqILo5Ri1%2Fimg.png" width="800"> <br>

하지만 HTTP는 암호화가 되지 않은 평문 데이터를 전송하는 프로토콜이였기 때문에, <br>
HTTP로 비밀번호나 주민등록번호 등을 주고 받으면 제3자가 정보를 조회할 수 있었다. <br>
그리고 이러한 문제를 해결하기 위해 HTTPS가 등장하게 되었다.

## 2. HTTPS란?

[ HTTPS(Hyper Text Transfer Protocol Secure)란? ]
HTTPS는 하이퍼 텍스트 전송 프로토콜 보안(Hypertext Transfer Protocol Secure)의 약자<br>
일반 HTTP 프로토콜의 문제점은 서버에서부터 브라우저로 전송되는 정보가 암호화되지 않는다는 것이다.
HTTPS 프로토콜은 SSL(보안 소켓 계층)을 사용함으로써 이 문제를 해결했다. <br>
SSL은 서버와 브라우저 사이에 안전하게 암호화된 연결을 만들 수 있게 도와주고,서버 브라우저가 민감한 정보를 주고받을 때 이것이 도난당하는 것을 막아준다. <br>
```HTTP vs HTTPS의 차이 그 첫번째는 ‘보안성’에 있다는 것이다.```

<img src="https://blog.wishket.com/wp-content/uploads/2020/02/03-3.png" width="800"> <br>

‘HTTP vs HTTPS 차이’는 바로 SSL 인증서이다.
사실 HTTPS는 쉽게 말해서 HTTP 프로토콜에 보안 기능을 추가한 것이라고 말할 수 있는데 보안 기능은 생각보다 매우 중요하다. <br>
SSL 인증서는 사용자가 사이트에 제공하는 정보를 암호화하는데, 쉽게 말해서 데이터를 암호로 바꾼다고 생각하면 쉽다. <br>
이렇게 전송된 데이터는 중간에서 누군가 훔쳐 낸다고 하더라도 데이터가 암호화되어있기 때문에 해독할 수 없다.<br>
그 외에도 HTTPS는 TLS(전송 계층 보안) 프로토콜을 통해서도 보안을 유지한다. <br>
TSL은 데이터 무결성을 제공하기 때문에 데이터가 전송 중에 수정되거나 손상되는 것을 방지하고, <br>
사용자가 자신이 의도하는 웹사이트와 통신하고 있음을 입증하는 인증 기능도 제공하고 있다.

### HTTPS의 암호화의 전송을 이해하는데 필요한 개념들
1. 암호화: 어떤 정보를 암호화된 정보로 바꾸는 것
2. 복호화: 암호화된 정보를 다시 원래 정보로 바꾸는 것
3. 키: 암호화, 복호화할 때 쓰는 비밀번호
4. HTTPS는 공통 키 방식과 비대칭 키 방식을 같이 사용

HTTPS는 대칭키 암호화 방식과 비대칭키 암호화 방식을 모두 사용하고 있다. 각각의 암호화 방식은 다음과 같다.

### 공통 키 방식: 암호화할 때와 복호화할 때 같은 키를 사용하는 방식이다.
1. 장점: 단순한 구조로 CPU를 적게 쓰고 빠르다.
2. 단점: 공통 키를 빼앗기면 복호화를 할 수 있으므로 보안에 취약하다는 단점이 있다.

### 비대칭 키 방식: 암호화할 때와 복호화할 때 다른 키를 사용하는 비대칭 방식이다.
1. 클라이언트는 공통 키를, 서버는 인증서와 공개 키를 제공하며 클라이언트는 서버가 제공한 공개 키를 통해 공통 키를 암호화하여 서버에게 전송한다. 
서버는 수신한 HTTPS의 인증서와 공개 키 일치를 바탕으로 공통 키를 복호해 요청에 대응한다.
2. 장점: 키 전송과정 중 빼앗겨도(해킹 당해도) 빼앗은 자(해커)가 해독을 할 수 없으니 공통 키 방식보다 보다 안전하다.
3. 단점: 공통 키 방식보다 느리고 리소스 소비가 크다.

### 두가지를 같이 사용 할 경우
1. 비대칭 키 방식이 가진 이점은 이어가되 전송 소요시간 및 리소스 부담은 줄이는 방식이다.
2. HTTPS를 통한 통신이 시작될 때, 서버는 서버가 제공한 공개 키와 증명서에 부합하는 요청을 클라이언트가 보냈는지를 확인한다. 
클라이언트가 공통 키를 서버가 제공한 공개 키로 암호화해 서버에게 보낸 첫 번째 요청을 복호화하는 과정을 핸드쉐이크(handshake)라고 부르는데, 
이 과정이 끝나면 실제 요청과 정보를 교환하는 과정이 이어집니다.
3. 서버가 제공하는 비대칭 키(=공개 키)를 써 클라이언트는 서버에게 보낼 공통 키를 암호화한다.
4. 서버는 클라이언트가 보낸 암호화된 요청을 비대칭 키로 복호화한다.
5. 결과적으로 클라이언트와 서버는 서버가 제공한 비대칭 키를 통해 암호화된 공통 키로 통신한다.
​
```HTTP vs HTTPS 차이 그 두번째는 SEO 품질에 있다.```
사실 HTTPS로 전환하게 되면 검색엔진 최적화(SEO)에 있어서도 큰 혜택을 볼 수 있는데 <br>
사용자들이 결국에는 가장 안전하다고 생각하는 사이트를 더 많이 방문하기 때문이기도 하다.

또한 ```가속화된 모바일 페이지(AMP, Accelerated Mobile Pages)를 만들고 싶을 때도 HTTPS 프로토콜을 사용```해만 한다. <br>
여기서 AMP란 모바일 기기에서 훨씬 빠르게 콘텐츠를 로딩 하기 위한 방법으로 구글이 만든 것이다.<br>
AMP는 HTML에서 불필요한 부분을 없앤 것이라고 볼 수 있고 구글의 SERP(검색 결과 페이지)를 보면 스마트폰과 태블릿의 사용자들이 모바일에서 사용하기 편하도록 AMP 콘텐츠들이 두드러져 보이는 것을 볼 수 있다ㅡ<br>
모바일 친화적인 웹사이트를 만드는 것과 모바일 검색순위 및 지역에 SEO를 증가시키는 것이 점점 더 중요해지고 있는 요즘, HTTP를 HTTPS로 전환하는 것이 필수라고 볼 수 있다.

## 3. HTTP vs HTTPS

HTTP는 암호화가 추가되지 않았기 때문에 보안에 취약한 반면, HTTPS는 안전하게 데이터를 주고받을 수 있다. <br>
하지만 HTTPS를 이용하면 암호화/복호화의 과정이 필요하기 때문에 HTTP보다 속도가 느리다. (물론 오늘날에는 거의 차이를 못느낄 정도이다.) <br>

사용자 입장에서의 장단점
1. HTTP는 HTTPS에 비해 더 빠릅니다. 반대로 보면 HTTPS는 HTTP에 비해 느리다.
2. HTTP는 변조 가능성을 항상 끼고 살아야 한다.
3. HTTPS는 네트워크 상에서 열람, 수정이 불가능하므로 인터넷을 이용하는데 매우 안전하다.

사용자 입장에서는 인터넷이 끊길 일은 거의 없고, 대한민국 인터넷 속도 평균 또한 빠르므로 HTTP보다 보안성이 뛰어난 HTTPS를 이용하는 것이 무조건 이득이다.

공급자 입장에서의 장단점
1. HTTP로 민감한 정보를 다룰 때 항상 변조, 해킹 가능성을 생각해야 하다.
2. HTTPS는 설치 및 인증서를 유지하는데 추가 비용이 든다.
3. HTTP는 HTTPS보다 트래픽이 적게 발생한다. 다시 말해 HTTP는 상대적으로 적은 비용으로 유지 가능하다.

> 참고사이트 : 
> - https://mangkyu.tistory.com/98
> - https://brunch.co.kr/@hyoi0303/10
> - https://hyeran-story.tistory.com/159