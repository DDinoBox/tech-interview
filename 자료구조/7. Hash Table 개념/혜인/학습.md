# Hash Table 개념

> 용어 정리
> - 해쉬(Hash): 임의 값을 고정된 길이로 변환하는 것 
> - 해쉬 테이블(Hash Table): 키 값에 대응하는 value를 갖고 있는 저장공간으로, 키 값을 기반으로 해시함수를 통해 직접 접근이 가능한 데이터 구조
> - 해시 함수(Hash/Hashing Function): Key에 대해 산술 연산을 이용해 데이터 위치를 찾을 수 있는 함수 
> - 해쉬 값(Hash Value)/해쉬 주소(Hash Address): Key를 해시 함수로 연산하여 나온 결과값으로, Key에 대응하는 value의 저장공간에 대한 주소값을 의미한다. 이를 기반으로 해쉬 테이블에서 데이터(value)의 위치를 일관성있게 찾을 수 있다.- 쉽게 말해서, hash값은 배열의 index역할을 하는 것이다. 그러므로 절대로 중복되면 안된다.
> - 슬롯(Slot): 한 개의 데이터를 저장할 수 있는 공간 
> - 저장할 데이터에 대해 Key 값을 추출할 수 있는 별도 함수도 존재할 수 있다.

## Hash Table 작동하는 순서
<img src="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbXYcON%2FbtqG6HSA7UF%2FBh5y45Euy4d3VqGTOxFKBk%2Fimg.png" width="800"> <br>

## 1-1. 해시 테이블
해시테이블은 데이터를 Key-Value 쌍으로 저장하는 자료구조이다. <br>
대표적으로 파이썬의 딕셔너리, 고언어의 맵, 자바스크립트의 오브젝트가 해시 테이블로 구현되어 있다.

해시 테이블은 Key 를 받아 임의의 해시 함수를 통해 도출된 해시 값을 배열의 Index 로 사용한다. <br>
이런 방식을 통해 O(1) 이라는 아주 빠른 속도로 데이터에 접근할 수 있다. <br>
하지만, Index 가 순서대로 사용되어 차곡차곡 데이터가 적재되지 않아 빈 공간이 생기고, 이는 공간의 낭비로 이어진다. <br>
즉, 해시 테이블은 공간과 시간이 Trade-Off 의 관계에 있다. <br>
공간으로 시간을 사는 개념이라고 보면 좋다.

## 1-2. Hash Table의 장단점 및 주요 용도

```장점```
1. 데이터 저장/읽기 속도가 빠르다. (검색 속도가 빠르다.)
2. 해쉬는 키에 대한 데이터가 있는지(중복) 확인이 쉬움. 
   - 특정 데이터가 이미 있는지 없는지 검증하기가 쉽다.

```단점```
1. 일반적으로 저장공간이 더 많이 필요하다.
   - 해시테이블에 낭비되는 저장공간이 존재한다. 
   - ex) value가 저장되어 있는 hash값이 0,4,5라고 한다면 1,2,3의 공간은 비어있다.  
2. 보통 배열로 미리 Hash Table 사이즈만큼 생성 후에 사용 (공간과 탐색 시간을 맞바꾸는 기법)
   - 공간을 탐색시간과 맞바꾼다는 뜻은, hash값(key값)의 중복확률을 줄이기 위해 Hash Table의 저장공간을 크게 잡아서라도 Hash Table을 사용한다는 뜻이다.
   - (검색속도가 빠르니 저장 공간을 더 소모해도 사용한다는 뜻
3. hash값 중복 및 충돌을 해결하기 위한 별도 자료구조가 필요하다. 
```주요 용도```
1. 검색이 많이 필요한 경우
2. 저장, 삭제, 읽기가 빈번한 경우
3. 캐쉬 구현시 (중복 확인이 쉽기 때문)
   - 캐시(cache)란, 어떤 웹 페이지를 방문할 때마다 해당 웹 페이지의 모든 정보를 다운(로딩)받는 것은 시간을 많이 소모하기 때문에 고정적인 데이터들을 다운받아 놓고 동적으로 변하는 자료들을 그때마다 서버에서 받아 온다. 이 때, 다운받아 놓은 고정적인 데이터들을 저장하는 장소를 캐시라고 한다. 

## 2. 해시 함수
해시함수란 임의 길의의 데이터를 고정 길이의 데이터로 매핑하는 함수이다.
해시함수를 사용하면 발생하는 문제가 한가지 존재하는데, Index 가 중복될 경우 충돌 (Collision) 이 발생한다.

해시함수는 1:1 관계가 아닌, 1:N 관계이기 때문에 발생하는 문제이다. <br>
해시함수는 서로 다른 두 값을 해싱 했을 때, 무조건 다른 해시 값이 도출됨을 보장하지 않는다. <br>
즉, 중복이 발생할 수 있다는 것이다.

## 1-3. 해시 충돌 대응
충돌을 대응하는 방식에는 아래와 같이 크게 두가지 방법이 있다.

```Chaining```: 
- Open Hashing(개방 해싱) 기법 중 하나로, Hash Table 저장공간 이외의 공간을 활용하는 기법이다. 
- 해시충돌이 발생하면 링크드 리스트를 사용하여 데이터를 추가로 뒤에 연결시켜 저장하는 방법이다. 
- 하지만, Hash Table로 인한 저장공간이 더욱 소모되는 상태에서 Chaining기법으로 인해 부가적인 저장공간을 사용해야 한다는 단점을 갖고 있다. 이를 보완한 기법이 Linear Probing 기법이다. 

```Linear Probing``` : 
- Close Hashing(폐쇄 해싱) 기법 중 하나로, 해싱충돌이 발생하면 Hash Table의 저장공간 안에서 충돌을 해결하는 기법이다.
- 다시 말해, 충돌이 발생하면 Hash address를 이용하여 Hash Table의 빈공간을 찾아 저장하는 기법이다. 
- 이 기법을 사용하면 Hash Table의 저장공간 활용도를 높일 수 있다. 

> 참고사이트 : 
> - https://hudi.blog/ds-hash-table/
> - https://devraphy.tistory.com/41